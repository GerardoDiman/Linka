# üöÄ Configuraci√≥n R√°pida - Linka v2.0

## üìã Resumen del Proyecto

Linka v2.0 es una aplicaci√≥n completa que incluye:
- **Frontend React** con visualizaci√≥n de bases de datos de Notion
- **Backend Node.js** con autenticaci√≥n y gesti√≥n de usuarios
- **Base de datos PostgreSQL** para usuarios y sesiones
- **n8n** para automatizaciones y webhooks
- **pgAdmin** para gesti√≥n de base de datos

## üîß Configuraci√≥n Paso a Paso

### 1. üìù Configurar Variables de Entorno

Copia el archivo de ejemplo y configura las variables:

```bash
# Copiar archivo de ejemplo
copy env-complete.example .env

# Editar .env con tus valores reales
notepad .env
```

**Variables obligatorias:**
```env
# Notion (obtener desde https://www.notion.so/my-integrations)
NOTION_TOKEN=secret_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
NOTION_LEADS_DATABASE_ID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# n8n (configurar en tu n8n de Hostinger)
N8N_WEBHOOK_URL=https://tu-n8n-en-hostinger.com/webhook/linka
N8N_WEBHOOK_SECRET=8e723900-53ba-4198-a303-fef0224f2d0a

# Servidor
PORT=3000
VITE_API_BASE_URL=http://localhost:3000/api
FRONTEND_URL=http://localhost:3000

# Base de datos
DATABASE_URL=postgresql://postgres:password@localhost:5432/linka

# JWT (cambiar en producci√≥n)
JWT_SECRET=tu-jwt-secret-super-seguro-cambiar-en-produccion
```

### 2. üê≥ Iniciar Contenedores

```bash
# Iniciar todos los servicios
docker-compose up -d

# Verificar que est√©n funcionando
docker-compose ps
```

**Servicios incluidos:**
- **PostgreSQL** (puerto 5432) - Base de datos principal
- **pgAdmin** (puerto 8080) - Gesti√≥n de base de datos
- **n8n** - Configurado en Hostinger (no local)

### 3. üì¶ Instalar Dependencias

```bash
npm install
```

### 4. üöÄ Iniciar Desarrollo

```bash
npm run dev
```

## üåê Accesos

| Servicio | URL | Credenciales |
|----------|-----|--------------|
| **Aplicaci√≥n** | http://localhost:3000 | - |
| **pgAdmin** | http://localhost:8080 | admin@linka.com / admin123 |
| **n8n** | Tu URL de Hostinger | Tus credenciales |

## üîç Verificaci√≥n

Ejecuta el script de verificaci√≥n para comprobar que todo est√© configurado:

```bash
node check-all-config.cjs
```

## üìä Funcionalidades

### Frontend (React + TypeScript)
- ‚úÖ Visualizaci√≥n de bases de datos de Notion
- ‚úÖ Autenticaci√≥n de usuarios
- ‚úÖ Panel de administraci√≥n
- ‚úÖ Gesti√≥n de leads y usuarios
- ‚úÖ Sistema de invitaciones

### Backend (Node.js)
- ‚úÖ API REST completa
- ‚úÖ Autenticaci√≥n JWT
- ‚úÖ Integraci√≥n con Notion
- ‚úÖ Webhooks para n8n
- ‚úÖ Base de datos PostgreSQL

### Automatizaciones (n8n)
- ‚úÖ Email de confirmaci√≥n de leads
- ‚úÖ Email de aprobaci√≥n de usuarios
- ‚úÖ Email de invitaciones
- ‚úÖ Email de bienvenida
- ‚úÖ Notificaciones al admin

## üõ†Ô∏è Comandos √ötiles

```bash
# Verificar configuraci√≥n
node check-all-config.cjs

# Iniciar contenedores
docker-compose up -d

# Detener contenedores
docker-compose down

# Ver logs
docker-compose logs -f

# Reiniciar servicios
docker-compose restart

# Ejecutar en desarrollo
npm run dev

# Construir para producci√≥n
npm run build
```

## üîß Troubleshooting

### Problema: Contenedores no inician
```bash
# Verificar Docker
docker --version
docker-compose --version

# Limpiar y reiniciar
docker-compose down
docker system prune -f
docker-compose up -d
```

### Problema: Variables de entorno no cargan
```bash
# Verificar archivo .env
node check-all-config.js

# Recargar variables
npm run dev
```

### Problema: Base de datos no conecta
```bash
# Verificar PostgreSQL
docker-compose logs postgres

# Conectar manualmente
docker exec -it linka-postgres psql -U postgres -d linka
```

## üìö Documentaci√≥n Adicional

- [N8N_SETUP.md](./N8N_SETUP.md) - Configuraci√≥n detallada de n8n
- [NOTION_SETUP_GUIDE.md](./NOTION_SETUP_GUIDE.md) - Configuraci√≥n de Notion
- [DEVELOPMENT.md](./DEVELOPMENT.md) - Gu√≠a de desarrollo
- [TROUBLESHOOTING.md](./TROUBLESHOOTING.md) - Soluci√≥n de problemas

## üÜò Soporte

Si tienes problemas:
1. Ejecuta `node check-all-config.js`
2. Revisa los logs: `docker-compose logs -f`
3. Consulta la documentaci√≥n espec√≠fica
4. Verifica que todas las variables est√©n configuradas 