# üöÄ Gu√≠a de Configuraci√≥n de Notion - Paso a Paso

## üìã Resumen de lo que vamos a hacer:

1. ‚úÖ Crear base de datos de leads en Notion
2. ‚úÖ Obtener Database ID
3. ‚úÖ Compartir con la integraci√≥n
4. ‚úÖ Configurar variables de entorno
5. ‚úÖ Probar la configuraci√≥n

---

## üéØ Paso 1: Crear Base de Datos de Leads

### 1.1 Ir a Notion
- Abre tu workspace de Notion
- Crea una nueva p√°gina
- Dale un nombre como "Leads - Linka v2.0"

### 1.2 Crear Base de Datos
- En la p√°gina nueva, escribe `/table` y presiona Enter
- Se crear√° una base de datos vac√≠a

### 1.3 Configurar Propiedades
Agrega estas propiedades exactamente como se muestran:

#### **Propiedades principales:**

1. **Nombre** (ya viene por defecto)
   - Tipo: Title
   - No cambiar nada

2. **Email** (nueva propiedad)
   - Tipo: Email
   - Nombre: "Email"

3. **Empresa** (nueva propiedad)
   - Tipo: Text
   - Nombre: "Empresa"

4. **Rol/Cargo** (nueva propiedad)
   - Tipo: Select
   - Nombre: "Rol/Cargo"
   - Opciones:
     - Desarrollador
     - Project Manager
     - Product Manager
     - CEO/Founder
     - Consultor
     - Otro

5. **Descripci√≥n** (nueva propiedad)
   - Tipo: Text
   - Nombre: "Descripci√≥n"

6. **Estado** (nueva propiedad)
   - Tipo: Select
   - Nombre: "Estado"
   - Opciones:
     - Pendiente (color gris)
     - Aprobado (color verde)
     - Rechazado (color rojo)
     - Contactado (color azul)

7. **Fecha de Registro** (nueva propiedad)
   - Tipo: Date
   - Nombre: "Fecha de Registro"

8. **Notas** (nueva propiedad)
   - Tipo: Text
   - Nombre: "Notas"

9. **Fuente** (nueva propiedad)
   - Tipo: Select
   - Nombre: "Fuente"
   - Opciones:
     - Landing Page
     - Demo
     - Referido
     - Otro

---

## üîç Paso 2: Obtener Database ID

### 2.1 Abrir la Base de Datos
- Haz clic en la base de datos para abrirla en pantalla completa

### 2.2 Copiar la URL
- Copia la URL completa de la barra de direcciones
- Se ve as√≠: `https://notion.so/workspace/XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX?v=...`

### 2.3 Extraer el ID
- El ID es la parte: `XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX`
- Gu√°rdalo, lo necesitar√°s en el siguiente paso

---

## üîó Paso 3: Compartir con la Integraci√≥n

### 3.1 Abrir Configuraci√≥n
- En la esquina superior derecha, haz clic en "Share"
- Luego haz clic en "Connections"

### 3.2 Agregar Integraci√≥n
- Busca tu integraci√≥n de "Linka v2.0"
- Haz clic en "Add connection"
- Aseg√∫rate de que tenga permisos de escritura

### 3.3 Verificar Permisos
- La integraci√≥n debe aparecer en la lista de conexiones
- Debe tener acceso de "Full access"

---

## ‚öôÔ∏è Paso 4: Configurar Variables de Entorno

### 4.1 Crear Archivo .env.local
- En la ra√≠z del proyecto, crea un archivo llamado `.env.local`
- Copia el contenido del archivo `config.example.env`

### 4.2 Llenar Variables
```env
# Token de integraci√≥n de Notion (el mismo que usas para la app)
NOTION_TOKEN=secret_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ID de la base de datos de leads en Notion
NOTION_LEADS_DATABASE_ID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
```

### 4.3 Reemplazar Valores
- `NOTION_TOKEN`: Tu token de integraci√≥n de Notion
- `NOTION_LEADS_DATABASE_ID`: El ID que obtuviste en el Paso 2

---

## üß™ Paso 5: Probar la Configuraci√≥n

### 5.1 Ejecutar Script de Prueba
```bash
npm run test:notion
```

### 5.2 Verificar Resultado
Si todo est√° bien, ver√°s:
```
‚úÖ Variables de entorno encontradas
‚úÖ Conexi√≥n exitosa
‚úÖ Base de datos accesible
‚úÖ Configuraci√≥n correcta! El sistema de leads est√° listo.
```

### 5.3 Probar Formulario
1. Ve a `http://localhost:3001/interest`
2. Llena el formulario con datos de prueba
3. Env√≠a el formulario
4. Verifica que se cree la entrada en Notion

---

## üö® Soluci√≥n de Problemas

### Error: "Token inv√°lido"
- Verifica que el token sea correcto
- Aseg√∫rate de que comience con `secret_`

### Error: "Base de datos no encontrada"
- Verifica que el Database ID sea correcto
- Copia exactamente la parte del ID de la URL

### Error: "Sin permisos"
- Comparte la base de datos con tu integraci√≥n
- Verifica que tenga permisos de escritura

### Error: "Variables no encontradas"
- Verifica que el archivo `.env.local` est√© en la ra√≠z del proyecto
- Reinicia el servidor despu√©s de crear el archivo

---

## üéâ ¬°Listo!

Una vez que hayas completado todos los pasos:

1. ‚úÖ Los leads se guardar√°n autom√°ticamente en Notion
2. ‚úÖ Podr√°s ver todos los leads en tu base de datos
3. ‚úÖ El sistema estar√° listo para la siguiente fase (n8n)

### Pr√≥ximo paso: Configurar n8n para automatizaci√≥n de emails 